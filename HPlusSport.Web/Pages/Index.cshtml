@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<ul id ="products-list"></ul>

@section Scripts {

    <script>
        let url = "https://localhost:5215";
        let productsList = document.getElementById("products-list");

        fecth(url)
            .then(response => response.json())
            .then(data => showProdcuts(data))
            .cath( ex => {
                alert("Error: " + ex);
                console.log(ex);
            });

        function showProducts(products) {
            products.forEach(product => {
                let li = document.createElement("li");
                li.textContent = product.name;
                productsList.appendChild(li);
            });
        }
    </script>
}